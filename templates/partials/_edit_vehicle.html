<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('static', filename='style/partials/_edit_vehicle.css')}}">
    <title>Edit Vehicle</title>
</head>
<body>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <ul class="flash-messages">
        {% for category, message in messages %}
        <li class="flash {{ category }}">{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
    
    
    <form method="POST" class="vehicle-form">
        <div class="form-group">
            <label for="vehicle_name">Vehicle Name</label>
            <input type="text" id="vehicle_name" name="vehicle_name" value="{{ vehicle.vehicle_name }}" required>
        </div>
    
        <div class="form-group">
            <label for="license_plate">License Plate</label>
            <input type="text" id="license_plate" name="license_plate" value="{{ vehicle.license_plate }}" required>
        </div>
    
        <div class="form-group">
            <label for="color">Color</label>
            <div class="color-input">
                <input type="color" id="color-picker" value="{{ vehicle.color }}" onchange="updateColorText(this.value)">
                <input type="text" id="color" name="color" value="{{ vehicle.color }}" required>
            </div>
        </div>
    
        <div class="form-actions">
            <button type="submit" class="btn-save">Save Changes</button>
            <a href="{{ url_for('user.profile') }}" class="btn-cancel">Cancel</a>
        </div>
    </form>
    
    <script>
        function updateColorText(color) {
            document.getElementById('color').value = color;
        }
    </script>
<script>
    // Wait for the page to load
    window.addEventListener('DOMContentLoaded', () => {
      // Find all flash messages
      const flashMessages = document.querySelectorAll('.flash');
  
      // Set a timeout to remove them after 5 seconds (5000 ms)
      setTimeout(() => {
        flashMessages.forEach(msg => {
          msg.style.transition = 'opacity 0.5s ease';
          msg.style.opacity = '0';
          setTimeout(() => msg.remove(), 500); // Fully remove after fade out
        });
      }, 5000);
    });
  </script>
  
</body>
</html>
