<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block base_styling %}
    <link rel="stylesheet" href="{{ url_for('static', filename='style/user/udash_base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style/user/dashboard.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Sofadi+One&family=Tajawal:wght@200;300;400;500;700;800;900&display=swap"
        rel="stylesheet">
    {% endblock %}

    {% block custom_styles %}
    {% endblock %}

    <title>
        {% block title %}
        Document
        {% endblock %}
    </title>
</head>

<body>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <ul class="flash-messages">
        {% for category, message in messages %}
        <li class="flash {{ category }}">{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
    <nav class="user-nav-bar">

        <div class="company-container">
            <div class="company-logo-div">
                <a href="#">
                    <img class="company-logo-img" src="{{ url_for('static', filename='image/ParkEase Logo.png') }}"
                        alt="company logo" style="border-radius: 50%;">

                </a>
            </div>
            <div class="company-name">
                <a href="{{ url_for('user.dashboard') }}">
                    <button class="company-name-btn">ParkEase</button>
                </a>
            </div>
        </div>

        <div class="right-section">

            <div class="search-container">
                <form action="{{ url_for('user.search') }}" method="GET" class="search-form">
                    <input type="text" class="search-input" name="query" placeholder="Search locations or parking..."
                        aria-label="Search">
                    <button class="search-btn" type="submit" aria-label="Submit search">
                        <ion-icon name="search-outline" class="search-icon"></ion-icon>
                    </button>
                </form>
            </div>

            <div class="profile-icon">
                <a href="{{url_for('user.profile')}}">
                    <ion-icon name="person-circle-outline" class="profile-icon-icon"></ion-icon>
                </a>
                
            </div>

        </div>


    </nav>

    <div class="sidebar">
        <ul class="nav-links">
            {% set current_path = request.path %}
            <li>
                <a href="{{ url_for('user.dashboard') }}" class="{% if current_path == url_for('user.dashboard') %}active{% endif %}">
                    <span class="icon"><ion-icon name="home-outline"></ion-icon></span>
                    <span class="title">Home</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('user.locations') }}" class="{% if current_path == url_for('user.locations') %}active{% endif %}">
                    <span class="icon"><ion-icon name="location-outline"></ion-icon></span>
                    <span class="title">Locations</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('user.bookings') }}" class="{% if current_path == url_for('user.bookings') %}active{% endif %}">
                    <span class="icon"><ion-icon name="calendar-outline"></ion-icon></span>
                    <span class="title">My Bookings</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('user.statistics') }}" class="{% if current_path == url_for('user.statistics') %}active{% endif %}">
                    <span class="icon"><ion-icon name="bar-chart-outline"></ion-icon></span>
                    <span class="title">Stats</span>
                </a>
            </li>
            <li>
                <a href="{{ url_for('user.profile') }}" class="{% if current_path == url_for('user.profile') %}active{% endif %}">
                    <span class="icon"><ion-icon name="person-outline"></ion-icon></span>
                    <span class="title">Profile</span>
                </a>
            </li>
            <li class="logout-link">
                <a href="{{ url_for('logout') }}">
                    <span class="icon"><ion-icon name="log-out-outline"></ion-icon></span>
                    <span class="title">Logout</span>
                </a>
            </li>
        </ul>
    </div>



    <div class="main-content">
        {% block body %}
        {% block content %}

        {% endblock %}
        {% endblock %}
    </div>



    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>


</body>

</html>